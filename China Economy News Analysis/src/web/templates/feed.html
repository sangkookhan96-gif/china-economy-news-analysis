{% extends "base.html" %}

{% block content %}
<section class="feed-section">
    <!-- í”Œë«í¼Â·ì „ë¬¸ê°€ ì†Œê°œ ì¹´ë“œ (ì²« ë°©ë¬¸ 1íšŒë§Œ ë…¸ì¶œ) -->
    <div class="intro-card" id="introCard">
        <button class="intro-card-close" id="introCardClose" aria-label="ë‹«ê¸°">&times;</button>
        <h2 class="intro-card-title">í•œìƒêµ­ì˜ ì‰¬ìš´ ì¤‘êµ­ê²½ì œë‰´ìŠ¤ í•´ì„¤</h2>
        <p class="intro-card-body">ì´ í”Œë«í¼ì€ ë§¤ì¼ ìŸì•„ì§€ëŠ” ì¤‘êµ­ í˜„ì§€ ë§¤ì²´ì˜ ê²½ì œ ë‰´ìŠ¤ë¥¼
AIë¡œ ì—„ì„ í•˜ê³ , ì¤‘êµ­ì— ì •í†µí•œ ì „ë¬¸ê°€ê°€ ìš”ì•½í•´
ì‰½ì§€ë§Œ ê¹Šì´ ìˆê²Œ í•´ì„¤í•©ë‹ˆë‹¤.</p>
        <p class="intro-card-body intro-card-expert">ì¤‘êµ­ ì „ë¬¸ê°€ í•œìƒêµ­ì€ ìƒí•˜ì´êµí†µëŒ€ êµ­ì œë¬´ì—­ ì„ì‚¬ë¡œì„œ 1996ë…„ ì™¸ë¬´ê³ ì‹œ 30íšŒë¡œ ì™¸êµê´€ì´ ë˜ì–´
ë² ì´ì§•Â·ìƒí•˜ì´ ë“± í˜„ì§€ì—ì„œ ì¤‘êµ­ ì´ìŠˆë¥¼ ì‹¬ë„ìˆê²Œ ë‹¤ë¤„ì™”ìœ¼ë©°,
ì •ì±…Â·ì‹œì¥Â·ì‚°ì—…ì˜ ë§¥ë½ ì†ì—ì„œ ì¤‘êµ­ ê²½ì œ ë‰´ìŠ¤ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.</p>
    </div>

    <!-- ì˜¤ëŠ˜ì˜ í—¤ë“œë¼ì¸ ìš”ì•½ ì¹´ë“œ -->
    {% if today_headlines and today_headlines.count > 0 %}
    <div class="headline-summary-card">
        <div class="headline-summary-header">
            <span class="headline-icon">ğŸ“°</span>
            <h2 class="headline-summary-title">{{ today_headlines.title }}</h2>
            <span class="headline-count">{{ today_headlines.count }}ê±´</span>
        </div>
        <ol class="headline-list">
            {% for item in today_headlines.headlines %}
            <li class="headline-item {% if item.rank == 1 %}headline-rank-1{% elif item.rank <= 3 %}headline-rank-top{% endif %}">
                <a href="{{ url_for('news_detail', news_id=item.id) }}">
                    <span class="headline-rank">{{ item.rank }}</span>
                    <span class="headline-text">{{ item.headline }}</span>
                </a>
            </li>
            {% endfor %}
        </ol>
    </div>
    {% endif %}

    {% if grouped_news.today %}
    <div class="date-group">
        <h2 class="date-heading">ì˜¤ëŠ˜</h2>
        {% for news in grouped_news.today %}
            {% include "partials/news_card.html" %}
        {% endfor %}
    </div>
    {% endif %}

    {% if grouped_news.yesterday %}
    <div class="date-group">
        <h2 class="date-heading">ì–´ì œ</h2>
        {% for news in grouped_news.yesterday %}
            {% include "partials/news_card.html" %}
        {% endfor %}
    </div>
    {% endif %}

    {% if grouped_news.earlier %}
    <div class="date-group">
        <h2 class="date-heading">ì´ì „</h2>
        {% for news in grouped_news.earlier %}
            {% include "partials/news_card.html" %}
        {% endfor %}
    </div>
    {% endif %}

    {% if not grouped_news.today and not grouped_news.yesterday and not grouped_news.earlier %}
    <div class="empty-state">
        <p>ì•„ì§ ê²Œì‹œëœ ë‰´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    </div>
    {% endif %}

    {% if total_pages > 1 %}
    <nav class="pagination">
        {% if current_page > 1 %}
        <a href="{{ url_for('index', page=current_page-1) }}" class="page-link prev">ì´ì „</a>
        {% endif %}

        <span class="page-info">{{ current_page }} / {{ total_pages }}</span>

        {% if current_page < total_pages %}
        <a href="{{ url_for('index', page=current_page+1) }}" class="page-link next">ë‹¤ìŒ</a>
        {% endif %}
    </nav>
    {% endif %}
</section>
{% endblock %}
